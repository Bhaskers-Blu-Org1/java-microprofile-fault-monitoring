apiVersion: v1
items:
- apiVersion: v1
  data:
    grafana-dashboard-mp-metrics.json: |-
          {            
             "annotations":{
                "list":[
                   {
                      "builtIn":1,
                      "datasource":"-- Grafana --",
                      "enable":true,
                      "hide":true,
                      "iconColor":"rgba(0, 211, 255, 1)",
                      "name":"Annotations & Alerts",
                      "type":"dashboard"
                   }
                ]
             },
             "editable":true,
             "gnetId":null,
             "graphTooltip":0,
             "hideControls":false,
             "id":null,
             "links":[

             ],
             "refresh":"10s",
             "rows":[
                {
                   "collapse":true,
                   "height":337,
                   "panels":[
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":39,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":4,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"base:cpu_available_processors",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Available CPU Processors",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":20,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "rightSide":false,
                            "show":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":4,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"base:cpu_process_cpu_load_percent",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"CPU Load Percent",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "decimals":0,
                               "format":"percentunit",
                               "label":"",
                               "logBase":1,
                               "max":null,
                               "min":"0",
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":21,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":4,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"base:cpu_system_load_average",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"CPU System Load Average",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      }
                   ],
                   "repeat":null,
                   "repeatIteration":null,
                   "repeatRowId":null,
                   "showTitle":true,
                   "title":"CPU",
                   "titleSize":"h6"
                },
                {
                   "collapse":true,
                   "height":250,
                   "panels":[
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":26,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"(base:memory_used_heap_bytes/base:memory_max_heap_bytes)",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Heap Usage Percentage",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "decimals":0,
                               "format":"percentunit",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      }
                   ],
                   "repeat":null,
                   "repeatIteration":null,
                   "repeatRowId":null,
                   "showTitle":true,
                   "title":"Memory Heap",
                   "titleSize":"h6"
                },
                {
                   "collapse":true,
                   "height":253,
                   "panels":[
                      {
                         "columns":[

                         ],
                         "datasource":"$datasource",
                         "fontSize":"100%",
                         "id":44,
                         "links":[

                         ],
                         "pageSize":null,
                         "scroll":true,
                         "showHeader":true,
                         "sort":{
                            "col":10,
                            "desc":true
                         },
                         "span":12,
                         "styles":[
                            {
                               "alias":"Time",
                               "dateFormat":"YYYY-MM-DD HH:mm:ss",
                               "pattern":"Time",
                               "type":"date"
                            },
                            {
                               "alias":"name",
                               "colorMode":null,
                               "colors":[
                                  "rgba(245, 54, 54, 0.9)",
                                  "rgba(237, 129, 40, 0.89)",
                                  "rgba(50, 172, 45, 0.97)"
                               ],
                               "dateFormat":"YYYY-MM-DD HH:mm:ss",
                               "decimals":2,
                               "pattern":"__name__",
                               "thresholds":[

                               ],
                               "type":"string",
                               "unit":"short"
                            },
                            {
                               "alias":"",
                               "colorMode":null,
                               "colors":[
                                  "rgba(245, 54, 54, 0.9)",
                                  "rgba(237, 129, 40, 0.89)",
                                  "rgba(50, 172, 45, 0.97)"
                               ],
                               "dateFormat":"YYYY-MM-DD HH:mm:ss",
                               "decimals":2,
                               "pattern":"/chart|heritage|job|kubernetes_name|kubernetes_namespace|release/",
                               "thresholds":[

                               ],
                               "type":"hidden",
                               "unit":"short"
                            },
                            {
                               "alias":"count",
                               "colorMode":null,
                               "colors":[
                                  "rgba(245, 54, 54, 0.9)",
                                  "rgba(237, 129, 40, 0.89)",
                                  "rgba(50, 172, 45, 0.97)"
                               ],
                               "dateFormat":"YYYY-MM-DD HH:mm:ss",
                               "decimals":null,
                               "pattern":"Value",
                               "thresholds":[

                               ],
                               "type":"number",
                               "unit":"short"
                            },
                            {
                               "alias":"",
                               "colorMode":null,
                               "colors":[
                                  "rgba(245, 54, 54, 0.9)",
                                  "rgba(237, 129, 40, 0.89)",
                                  "rgba(50, 172, 45, 0.97)"
                               ],
                               "decimals":2,
                               "pattern":"/.*/",
                               "thresholds":[

                               ],
                               "type":"number",
                               "unit":"short"
                            }
                         ],
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:servlet.*_request_total\"}",
                               "format":"table",
                               "instant":true,
                               "intervalFactor":2,
                               "legendFormat":"",
                               "refId":"A"
                            }
                         ],
                         "title":"Request Count",
                         "transform":"table",
                         "type":"table"
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":true,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":0,
                         "id":18,
                         "legend":{
                            "alignAsTable":true,
                            "avg":false,
                            "current":true,
                            "max":false,
                            "min":false,
                            "show":true,
                            "total":false,
                            "values":true
                         },
                         "lines":false,
                         "linewidth":0,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":6,
                         "stack":true,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"vendor:servlet_[[servlet]]_request_total",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Request Count for [[servlet]]",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":false
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":17,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":false,
                            "max":true,
                            "min":true,
                            "show":true,
                            "sortDesc":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":6,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"rate(vendor:servlet_[[servlet]]_response_time_total_seconds[[dur]])/rate(vendor:servlet_[[servlet]]_request_total[[dur]])",
                               "format":"time_series",
                               "instant":false,
                               "intervalFactor":2,
                               "legendFormat":"app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Response Time for [[servlet]] [[dur]] moving average",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"s",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":"0",
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      }
                   ],
                   "repeat":null,
                   "repeatIteration":null,
                   "repeatRowId":null,
                   "showTitle":true,
                   "title":"Servlets",
                   "titleSize":"h6"
                },
                {
                   "collapse":true,
                   "height":250,
                   "panels":[
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":27,
                         "legend":{
                            "alignAsTable":true,
                            "avg":false,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "sort":null,
                            "sortDesc":null,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:connectionpool_.*_free_connections\"}",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"name: {{__name__}} app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Free Connections",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":28,
                         "legend":{
                            "alignAsTable":true,
                            "avg":false,
                            "current":true,
                            "max":false,
                            "min":false,
                            "show":true,
                            "sort":null,
                            "sortDesc":null,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:connectionpool_.*_connection_handles\"}",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"name: {{__name__}} app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Connection Handles",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":"0",
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":31,
                         "legend":{
                            "alignAsTable":true,
                            "avg":false,
                            "current":true,
                            "max":false,
                            "min":false,
                            "show":true,
                            "sort":null,
                            "sortDesc":null,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:connectionpool_.*_create_total\"}",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"name: {{__name__}} app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Create Total",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":29,
                         "legend":{
                            "alignAsTable":true,
                            "avg":false,
                            "current":true,
                            "max":false,
                            "min":false,
                            "show":true,
                            "sort":null,
                            "sortDesc":null,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:connectionpool_.*_destroy_total\"}",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"name: {{__name__}} app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Destroy Total",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":30,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "sort":null,
                            "sortDesc":null,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:connectionpool_.*_managed_connections\"}",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"name: {{__name__}} app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Managed Connections",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      }
                   ],
                   "repeat":null,
                   "repeatIteration":null,
                   "repeatRowId":null,
                   "showTitle":true,
                   "title":"Connection Pool",
                   "titleSize":"h6"
                },
                {
                   "collapse":true,
                   "height":250,
                   "panels":[
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":32,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "rightSide":false,
                            "show":true,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:session_.*_active_sessions\"}",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"name: {{__name__}} app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Active Sessions",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":33,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "hideZero":false,
                            "max":true,
                            "min":true,
                            "rightSide":false,
                            "show":true,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:session_.*_live_sessions\"}",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"name: {{__name__}} app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Live  Sessions",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      }
                   ],
                   "repeat":null,
                   "repeatIteration":null,
                   "repeatRowId":null,
                   "showTitle":true,
                   "title":"Sessions",
                   "titleSize":"h6"
                },
                {
                   "collapse":true,
                   "height":250,
                   "panels":[
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":37,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "sortDesc":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:threadpool_.*_active_threads\"}",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"name: {{__name__}} app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Active Threads",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "decimals":1,
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":38,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":true,
                            "max":true,
                            "min":true,
                            "show":true,
                            "sort":"current",
                            "sortDesc":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":12,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"{__name__=~\"vendor:threadpool_.*_size\"}",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"name: {{__name__}} app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Threadpool Size",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":false
                            }
                         ]
                      }
                   ],
                   "repeat":null,
                   "repeatIteration":null,
                   "repeatRowId":null,
                   "showTitle":true,
                   "title":"Threadpools",
                   "titleSize":"h6"
                },
                {
                   "collapse":true,
                   "height":315,
                   "panels":[
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":40,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":false,
                            "max":true,
                            "min":true,
                            "show":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":6,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"rate(base:gc_global_time_seconds[[dur]]) / rate(base:gc_global_count[[dur]])",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Time per Global GC Cycle [[dur]] moving average",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"s",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      },
                      {
                         "aliasColors":{

                         },
                         "bars":false,
                         "dashLength":10,
                         "dashes":false,
                         "datasource":"$datasource",
                         "fill":1,
                         "id":41,
                         "legend":{
                            "alignAsTable":true,
                            "avg":true,
                            "current":false,
                            "max":true,
                            "min":true,
                            "show":true,
                            "total":false,
                            "values":true
                         },
                         "lines":true,
                         "linewidth":1,
                         "links":[

                         ],
                         "nullPointMode":"null",
                         "percentage":false,
                         "pointradius":5,
                         "points":false,
                         "renderer":"flot",
                         "seriesOverrides":[

                         ],
                         "spaceLength":10,
                         "span":6,
                         "stack":false,
                         "steppedLine":false,
                         "targets":[
                            {
                               "expr":"rate(base:gc_scavenge_time_seconds[[dur]]) / rate(base:gc_scavenge_count[[dur]])",
                               "format":"time_series",
                               "intervalFactor":2,
                               "legendFormat":"app: {{app}}, instance: {{instance}}",
                               "refId":"A"
                            }
                         ],
                         "thresholds":[

                         ],
                         "timeFrom":null,
                         "timeShift":null,
                         "title":"Time per Scavenge GC Cycle [[dur]] moving average",
                         "tooltip":{
                            "shared":true,
                            "sort":0,
                            "value_type":"individual"
                         },
                         "type":"graph",
                         "xaxis":{
                            "buckets":null,
                            "mode":"time",
                            "name":null,
                            "show":true,
                            "values":[

                            ]
                         },
                         "yaxes":[
                            {
                               "format":"s",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            },
                            {
                               "format":"short",
                               "label":null,
                               "logBase":1,
                               "max":null,
                               "min":null,
                               "show":true
                            }
                         ]
                      }
                   ],
                   "repeat":null,
                   "repeatIteration":null,
                   "repeatRowId":null,
                   "showTitle":true,
                   "title":"Garbage Collection",
                   "titleSize":"h6"
                },
                {
                   "collapse":true,
                   "height":471,
                   "panels":[
                      {
                         "columns":[

                         ],
                         "datasource":"$datasource",
                         "fontSize":"100%",
                         "id":43,
                         "links":[

                         ],
                         "pageSize":null,
                         "scroll":true,
                         "showHeader":true,
                         "sort":{
                            "col":10,
                            "desc":false
                         },
                         "span":12,
                         "styles":[
                            {
                               "alias":"Time",
                               "dateFormat":"YYYY-MM-DD HH:mm:ss",
                               "pattern":"Time",
                               "type":"hidden"
                            },
                            {
                               "alias":"",
                               "colorMode":null,
                               "colors":[
                                  "rgba(245, 54, 54, 0.9)",
                                  "rgba(237, 129, 40, 0.89)",
                                  "rgba(50, 172, 45, 0.97)"
                               ],
                               "dateFormat":"YYYY-MM-DD HH:mm:ss",
                               "decimals":2,
                               "pattern":"/__name__|chart|heritage|job|kubernetes_name|kubernetes_namespace|release/",
                               "thresholds":[

                               ],
                               "type":"hidden",
                               "unit":"short"
                            },
                            {
                               "alias":"",
                               "colorMode":null,
                               "colors":[
                                  "rgba(245, 54, 54, 0.9)",
                                  "rgba(237, 129, 40, 0.89)",
                                  "rgba(50, 172, 45, 0.97)"
                               ],
                               "dateFormat":"YYYY-MM-DD HH:mm:ss",
                               "decimals":0,
                               "pattern":"Value",
                               "thresholds":[

                               ],
                               "type":"number",
                               "unit":"dtdurations"
                            },
                            {
                               "alias":"",
                               "colorMode":null,
                               "colors":[
                                  "rgba(245, 54, 54, 0.9)",
                                  "rgba(237, 129, 40, 0.89)",
                                  "rgba(50, 172, 45, 0.97)"
                               ],
                               "decimals":2,
                               "pattern":"/.*/",
                               "thresholds":[

                               ],
                               "type":"number",
                               "unit":"short"
                            }
                         ],
                         "targets":[
                            {
                               "expr":"base:jvm_uptime_seconds",
                               "format":"table",
                               "instant":true,
                               "intervalFactor":2,
                               "refId":"A"
                            },
                            {
                               "expr":"",
                               "format":"table",
                               "intervalFactor":2,
                               "refId":"B"
                            }
                         ],
                         "timeFrom":null,
                         "title":"JVM Uptime",
                         "transform":"table",
                         "type":"table"
                      }
                   ],
                   "repeat":null,
                   "repeatIteration":null,
                   "repeatRowId":null,
                   "showTitle":true,
                   "title":"Other JVM Information",
                   "titleSize":"h6"
                }
             ],
             "schemaVersion":14,
             "style":"dark",
             "tags":[

             ],
             "templating":{
                "list":[
                  {
                      "current": {
                          "text": "Prometheus",
                          "value": "Prometheus"
                      },
                      "hide": 0,
                      "label": null,
                      "name": "datasource",
                      "options": [
                      ],
                      "query": "prometheus",
                      "refresh": 1,
                      "regex": "",
                      "type": "datasource"
                   },
                   {
                      "allValue":null,
                      "current":{

                      },
                      "datasource":"$datasource",
                      "hide":0,
                      "includeAll":false,
                      "label":null,
                      "multi":false,
                      "name":"servlet",
                      "options":[

                      ],
                      "query":"{__name__=~\"vendor:servlet.*_response_time_total_seconds\"}",
                      "refresh":1,
                      "regex":"/vendor:servlet_(.*)_response_time_total_seconds.*/",
                      "sort":0,
                      "tagValuesQuery":"",
                      "tags":[

                      ],
                      "tagsQuery":"",
                      "type":"query",
                      "useTags":false
                   },
                   {
                      "allValue":null,
                      "current":{
                         "text":"[10m]",
                         "value":"[10m]"
                      },
                      "hide":0,
                      "includeAll":false,
                      "label":"moving average",
                      "multi":false,
                      "name":"dur",
                      "options":[
                         {
                            "selected":false,
                            "text":"[1m]",
                            "value":"[1m]"
                         },
                         {
                            "selected":false,
                            "text":"[5m]",
                            "value":"[5m]"
                         },
                         {
                            "selected":true,
                            "text":"[10m]",
                            "value":"[10m]"
                         },
                         {
                            "selected":false,
                            "text":"[30m]",
                            "value":"[30m]"
                         },
                         {
                            "selected":false,
                            "text":"[1h]",
                            "value":"[1h]"
                         },
                         {
                            "selected":false,
                            "text":"[1d]",
                            "value":"[1d]"
                         },
                         {
                            "selected":false,
                            "text":"[7d]",
                            "value":"[7d]"
                         }
                      ],
                      "query":"[1m],[5m],[10m],[30m],[1h],[1d],[7d]",
                      "type":"custom"
                   }
                ]
             },
             "time":{
                "from":"now-15m",
                "to":"now"
             },
             "timepicker":{
                "refresh_intervals":[
                   "5s",
                   "10s",
                   "30s",
                   "1m",
                   "5m",
                   "15m",
                   "30m",
                   "1h",
                   "2h",
                   "1d"
                ],
                "time_options":[
                   "5m",
                   "15m",
                   "1h",
                   "6h",
                   "12h",
                   "24h",
                   "2d",
                   "7d",
                   "30d"
                ]
             },
             "timezone":"",
             "title":"Liberty-Metrics-G4-20180920",
             "version":21
            }
  kind: ConfigMap
  metadata:
    name: grafana-dashboard-mp-metrics
- apiVersion: v1
  data:
    grafana-dashboard-fault-tolerant.json: |-
        {          
          "annotations": {
            "list": [
              {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
              }
            ]
          },
          "description": "Displays metrics collected by methods annotated with MicroProfile Fault Tolerance annotations",
          "editable": true,
          "gnetId": 8022,
          "graphTooltip": 0,
          "id": null,
          "iteration": 1537439394933,
          "links": [],
          "panels": [
            {
              "collapsed": false,
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
              },
              "id": 32,
              "panels": [],
              "title": "Basic Metrics",
              "type": "row"
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "$datasource",
              "description": "Number of method invocations which occurred per second",
              "fill": 1,
              "gridPos": {
                "h": 9,
                "w": 12,
                "x": 0,
                "y": 1
              },
              "id": 22,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": false,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "percentage": false,
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "repeat": "method",
              "repeatDirection": "v",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "rate(application:ft_[[method]]_invocations_total[$avg_period])",
                  "format": "time_series",
                  "hide": false,
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "$method invocations",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeShift": null,
              "title": "Invocations [per second, avg $avg_period]",
              "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": "0",
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": false
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "aliasColors": {},
              "bars": false,
              "dashLength": 10,
              "dashes": false,
              "datasource": "$datasource",
              "description": "Percentage of calls which resulted in a failure\n\nThis graph is showing failures after all fault tolerance processing has taken place (including fallback)",
              "fill": 1,
              "gridPos": {
                "h": 9,
                "w": 12,
                "x": 12,
                "y": 1
              },
              "id": 4,
              "legend": {
                "avg": false,
                "current": false,
                "max": false,
                "min": false,
                "show": false,
                "total": false,
                "values": false
              },
              "lines": true,
              "linewidth": 1,
              "links": [],
              "nullPointMode": "null",
              "percentage": false,
              "pointradius": 5,
              "points": false,
              "renderer": "flot",
              "seriesOverrides": [],
              "spaceLength": 10,
              "stack": false,
              "steppedLine": false,
              "targets": [
                {
                  "expr": "rate(application:ft_[[method]]_invocations_failed_total[$avg_period]) * 100\n / \nrate(application:ft_[[method]]_invocations_total[$avg_period])",
                  "format": "time_series",
                  "interval": "",
                  "intervalFactor": 1,
                  "legendFormat": "$method",
                  "refId": "A"
                }
              ],
              "thresholds": [],
              "timeFrom": null,
              "timeShift": null,
              "title": "Failure rate [%, avg $avg_period]",
              "tooltip": {
                "shared": true,
                "sort": 0,
                "value_type": "individual"
              },
              "type": "graph",
              "xaxis": {
                "buckets": null,
                "mode": "time",
                "name": null,
                "show": true,
                "values": []
              },
              "yaxes": [
                {
                  "decimals": null,
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": "100",
                  "min": "0",
                  "show": true
                },
                {
                  "format": "short",
                  "label": null,
                  "logBase": 1,
                  "max": null,
                  "min": null,
                  "show": false
                }
              ],
              "yaxis": {
                "align": false,
                "alignLevel": null
              }
            },
            {
              "collapsed": true,
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 10
              },
              "id": 38,
              "panels": [
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "description": "Percentage of method invocations which resulted in the fallback method or handler being called.",
                  "fill": 1,
                  "gridPos": {
                    "h": 9,
                    "w": 12,
                    "x": 0,
                    "y": 11
                  },
                  "id": 10,
                  "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "expr": "rate(application:ft_[[method]]_fallback_calls_total[$avg_period]) * 100\n/\nrate(application:ft_[[method]]_invocations_total[$avg_period])",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "",
                      "refId": "A"
                    }
                  ],
                  "thresholds": [],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Fallback Rate [%, avg $avg_period]",
                  "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "decimals": null,
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": "100",
                      "min": "0",
                      "show": true
                    },
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": false
                    }
                  ],
                  "yaxis": {
                    "align": false,
                    "alignLevel": null
                  }
                }
              ],
              "title": "Fallback Metrics",
              "type": "row"
            },
            {
              "collapsed": true,
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 11
              },
              "id": 24,
              "panels": [
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "description": "Average number of retries which occurred for each method invocation.",
                  "fill": 1,
                  "gridPos": {
                    "h": 9,
                    "w": 12,
                    "x": 0,
                    "y": 12
                  },
                  "id": 8,
                  "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "expr": "rate(application:ft_[[method]]_retry_retries_total[$avg_period])\n / \n(\n   rate(application:ft_[[method]]_retry_calls_succeeded_not_retried_total[$avg_period])\n + rate(application:ft_[[method]]_retry_calls_succeeded_retried_total[$avg_period])\n + rate(application:ft_[[method]]_retry_calls_failed_total[$avg_period])\n)",
                      "format": "time_series",
                      "interval": "",
                      "intervalFactor": 1,
                      "legendFormat": "Retries per invocation",
                      "refId": "A"
                    }
                  ],
                  "thresholds": [],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Retries per invocation [avg $avg_period]",
                  "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": "0",
                      "show": true
                    },
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": false
                    }
                  ],
                  "yaxis": {
                    "align": false,
                    "alignLevel": null
                  }
                }
              ],
              "title": "Retry Metrics",
              "type": "row"
            },
            {
              "collapsed": true,
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 12
              },
              "id": 30,
              "panels": [
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "description": "Shows quantiles and mean of execution times using a weighted average of the last 1000 executions.\n\nThe quantiles should be understood like this: if the 0.99 quantile is 300ms, then 99% of executions took less than 300ms. (Conversely, 1% of executions took longer than 300ms)",
                  "fill": 1,
                  "gridPos": {
                    "h": 9,
                    "w": 12,
                    "x": 0,
                    "y": 22
                  },
                  "id": 34,
                  "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "expr": "application:ft_[[method]]_timeout_execution_duration_seconds",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{quantile}}",
                      "refId": "A"
                    },
                    {
                      "expr": "application:ft_[[method]]_timeout_execution_duration_mean_seconds",
                      "format": "time_series",
                      "interval": "",
                      "intervalFactor": 1,
                      "legendFormat": "Mean",
                      "refId": "B"
                    }
                  ],
                  "thresholds": [],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Execution duration [s]",
                  "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": true
                    },
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": true
                    }
                  ],
                  "yaxis": {
                    "align": false,
                    "alignLevel": null
                  }
                },
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "description": "Percentage of invocations which timed out",
                  "fill": 1,
                  "gridPos": {
                    "h": 9,
                    "w": 12,
                    "x": 12,
                    "y": 22
                  },
                  "id": 36,
                  "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": false,
                    "total": false,
                    "values": false
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "expr": "rate(application:ft_[[method]]_timeout_calls_timed_out_total[$avg_period]) * 100\n/\n(\n  rate(application:ft_[[method]]_timeout_calls_timed_out_total[$avg_period])\n+ rate(application:ft_[[method]]_timeout_calls_not_timed_out_total[$avg_period])\n)",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "refId": "A"
                    }
                  ],
                  "thresholds": [],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Invocations Timed Out [%, avg $avg_period]",
                  "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": "0",
                      "show": true
                    },
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": false
                    }
                  ],
                  "yaxis": {
                    "align": false,
                    "alignLevel": null
                  }
                }
              ],
              "title": "Timeout Metrics",
              "type": "row"
            },
            {
              "collapsed": true,
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 13
              },
              "id": 28,
              "panels": [
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "description": "Estimate of the number of concurrent calls that are attempted through the bulkhead.\n\nThis is done by multiplying the number of attempted invocations by the mean execution time.",
                  "fill": 1,
                  "gridPos": {
                    "h": 9,
                    "w": 12,
                    "x": 0,
                    "y": 14
                  },
                  "id": 20,
                  "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": false,
                    "total": false,
                    "values": false
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "expr": "(\n   rate(application:ft_[[method]]_bulkhead_calls_rejected_total[1m])\n + rate(application:ft_[[method]]_bulkhead_calls_accepted_total[1m])\n)\n *\napplication:ft_[[method]]_bulkhead_execution_duration_mean_seconds",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "",
                      "refId": "A"
                    }
                  ],
                  "thresholds": [
                    {
                      "colorMode": "critical",
                      "fill": true,
                      "line": true,
                      "op": "gt",
                      "value": 3,
                      "yaxis": "left"
                    }
                  ],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Bulkhead Average Concurrent Calls",
                  "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "decimals": null,
                      "format": "short",
                      "label": "Concurrent attempts",
                      "logBase": 1,
                      "max": null,
                      "min": "0",
                      "show": true
                    },
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": false
                    }
                  ],
                  "yaxis": {
                    "align": false,
                    "alignLevel": null
                  }
                },
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "description": "Shows quantiles and mean of execution times using a weighted average of the last 1000 executions.\n\nThe quantiles should be understood like this: if the 0.99 quantile is 300ms, then 99% of executions took less than 300ms. (Conversely, 1% of executions took longer than 300ms)",
                  "fill": 1,
                  "gridPos": {
                    "h": 9,
                    "w": 12,
                    "x": 12,
                    "y": 14
                  },
                  "id": 14,
                  "legend": {
                    "alignAsTable": false,
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "rightSide": false,
                    "show": true,
                    "total": false,
                    "values": false
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "expr": "application:ft_[[method]]_bulkhead_execution_duration_seconds",
                      "format": "time_series",
                      "instant": false,
                      "interval": "",
                      "intervalFactor": 1,
                      "legendFormat": "{{quantile}} quantile",
                      "refId": "A"
                    },
                    {
                      "expr": "application:ft_[[method]]_bulkhead_execution_duration_mean_seconds",
                      "format": "time_series",
                      "interval": "",
                      "intervalFactor": 1,
                      "legendFormat": "Mean",
                      "refId": "B"
                    }
                  ],
                  "thresholds": [],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Bulkhead Execution Time [s]",
                  "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                  },
                  "transparent": false,
                  "type": "graph",
                  "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "decimals": null,
                      "format": "short",
                      "label": "",
                      "logBase": 1,
                      "max": null,
                      "min": "0",
                      "show": true
                    },
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": false
                    }
                  ],
                  "yaxis": {
                    "align": false,
                    "alignLevel": null
                  }
                },
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "description": "Percentage of calls which were rejected because the bulkhead was full.",
                  "fill": 1,
                  "gridPos": {
                    "h": 9,
                    "w": 12,
                    "x": 0,
                    "y": 23
                  },
                  "id": 12,
                  "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": false,
                    "total": false,
                    "values": false
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "expr": "rate(application:ft_[[method]]_bulkhead_calls_rejected_total[$avg_period]) * 100\n / \n(\n   rate(application:ft_[[method]]_bulkhead_calls_rejected_total[$avg_period])\n + rate(application:ft_[[method]]_bulkhead_calls_accepted_total[$avg_period])\n)",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "",
                      "refId": "A"
                    }
                  ],
                  "thresholds": [],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Bulkhead Rejected Calls [%, avg $avg_period]",
                  "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "decimals": null,
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": "0",
                      "show": true
                    },
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": false
                    }
                  ],
                  "yaxis": {
                    "align": false,
                    "alignLevel": null
                  }
                }
              ],
              "title": "Bulkhead Metrics",
              "type": "row"
            },
            {
              "collapsed": true,
              "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 14
              },
              "id": 26,
              "panels": [
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "description": "Shows how much time the circuit breaker is spending in each of the Closed, Open and Half Open states.",
                  "fill": 1,
                  "gridPos": {
                    "h": 9,
                    "w": 12,
                    "x": 0,
                    "y": 24
                  },
                  "id": 16,
                  "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": true,
                    "total": false,
                    "values": false
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "expr": "irate(application:ft_[[method]]_circuitbreaker_open_total_seconds[1m])",
                      "format": "time_series",
                      "interval": "",
                      "intervalFactor": 1,
                      "legendFormat": "Open %",
                      "refId": "A"
                    },
                    {
                      "expr": "irate(application:ft_[[method]]_circuitbreaker_half_open_total_seconds[1m])",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "Half Open %",
                      "refId": "B"
                    },
                    {
                      "expr": "irate(application:ft_[[method]]_circuitbreaker_closed_total_seconds[1m])",
                      "format": "time_series",
                      "interval": "",
                      "intervalFactor": 1,
                      "legendFormat": "Closed %",
                      "refId": "C"
                    }
                  ],
                  "thresholds": [],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Circuit Breaker State",
                  "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                  },
                  "type": "graph",
                  "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "decimals": null,
                      "format": "short",
                      "label": "Percentage",
                      "logBase": 1,
                      "max": null,
                      "min": "0",
                      "show": true
                    },
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": true
                    }
                  ],
                  "yaxis": {
                    "align": false,
                    "alignLevel": null
                  }
                },
                {
                  "aliasColors": {},
                  "bars": false,
                  "dashLength": 10,
                  "dashes": false,
                  "datasource": "$datasource",
                  "description": "Percentage of invocations which were permitted to run by the circuit breaker but failed.",
                  "fill": 1,
                  "gridPos": {
                    "h": 9,
                    "w": 12,
                    "x": 12,
                    "y": 24
                  },
                  "id": 18,
                  "legend": {
                    "avg": false,
                    "current": false,
                    "max": false,
                    "min": false,
                    "show": false,
                    "total": false,
                    "values": false
                  },
                  "lines": true,
                  "linewidth": 1,
                  "links": [],
                  "nullPointMode": "null",
                  "percentage": false,
                  "pointradius": 5,
                  "points": false,
                  "renderer": "flot",
                  "repeat": "method",
                  "repeatDirection": "v",
                  "scopedVars": {
                    "method": {
                      "selected": true,
                      "text": "io_microporfile_showcase_schedule_resources_service_allSchedules",
                      "value": "io_microporfile_showcase_schedule_resources_service_allSchedules"
                    }
                  },
                  "seriesOverrides": [],
                  "spaceLength": 10,
                  "stack": false,
                  "steppedLine": false,
                  "targets": [
                    {
                      "expr": "irate(application:ft_[[method]]_circuitbreaker_calls_failed_total[$avg_period]) * 100\n / \n(\n   irate(application:ft_[[method]]_circuitbreaker_calls_failed_total[$avg_period])\n + irate(application:ft_[[method]]_circuitbreaker_calls_succeeded_total[$avg_period])\n)",
                      "format": "time_series",
                      "interval": "",
                      "intervalFactor": 1,
                      "legendFormat": "Failure %",
                      "refId": "A"
                    }
                  ],
                  "thresholds": [],
                  "timeFrom": null,
                  "timeShift": null,
                  "title": "Circuit Breaker Run but Failed [%, avg $avg_period]",
                  "tooltip": {
                    "shared": true,
                    "sort": 0,
                    "value_type": "individual"
                  },
                  "transparent": false,
                  "type": "graph",
                  "xaxis": {
                    "buckets": null,
                    "mode": "time",
                    "name": null,
                    "show": true,
                    "values": []
                  },
                  "yaxes": [
                    {
                      "decimals": null,
                      "format": "short",
                      "label": "Failure %",
                      "logBase": 1,
                      "max": null,
                      "min": "0",
                      "show": true
                    },
                    {
                      "format": "short",
                      "label": null,
                      "logBase": 1,
                      "max": null,
                      "min": null,
                      "show": true
                    }
                  ],
                  "yaxis": {
                    "align": false,
                    "alignLevel": null
                  }
                }
              ],
              "title": "Circuit Breaker Metrics",
              "type": "row"
            }
          ],
          "refresh": "30s",
          "schemaVersion": 16,
          "style": "dark",
          "tags": [
            "microprofile"
          ],
          "templating": {
            "list": [
              {
                "current": {
                    "text": "Prometheus",
                    "value": "Prometheus"
                },
                "hide": 0,
                "label": null,
                "name": "datasource",
                "options": [
                ],
                "query": "prometheus",
                "refresh": 1,
                "regex": "",
                "type": "datasource"
              },
              {
                "allValue": null,
                "current": {},
                "datasource": "$datasource",
                "hide": 0,
                "includeAll": false,
                "label": "Method",
                "multi": false,
                "name": "method",
                "options": [],
                "query": "{__name__=~\"application:ft_.*_invocations_total\"}",
                "refresh": 1,
                "regex": "application:ft_(.*)_invocations_total.*",
                "sort": 0,
                "tagValuesQuery": "",
                "tags": [],
                "tagsQuery": "",
                "type": "query",
                "useTags": false
              },
              {
                "allValue": null,
                "current": {
                  "text": "1m",
                  "value": "1m"
                },
                "hide": 0,
                "includeAll": false,
                "label": "Moving Average",
                "multi": false,
                "name": "avg_period",
                "options": [
                  {
                    "selected": false,
                    "text": "30s",
                    "value": "30s"
                  },
                  {
                    "selected": true,
                    "text": "1m",
                    "value": "1m"
                  },
                  {
                    "selected": false,
                    "text": "3m",
                    "value": "3m"
                  },
                  {
                    "selected": false,
                    "text": "5m",
                    "value": "5m"
                  },
                  {
                    "selected": false,
                    "text": "10m",
                    "value": "10m"
                  }
                ],
                "query": "30s, 1m, 3m, 5m, 10m",
                "type": "custom"
              }
            ]
          },
          "time": {
            "from": "now-15m",
            "to": "now"
          },
          "timepicker": {
            "refresh_intervals": [
              "5s",
              "10s",
              "30s",
              "1m",
              "5m",
              "15m",
              "30m",
              "1h",
              "2h",
              "1d"
            ],
            "time_options": [
              "5m",
              "15m",
              "1h",
              "6h",
              "12h",
              "24h",
              "2d",
              "7d",
              "30d"
            ]
          },
          "timezone": "",
          "title": "MicroProfile Fault Tolerance 1.1",
          "uid": "X5Edhs2mk",
          "version": 15
        }
  kind: ConfigMap
  metadata:
    name: grafana-dashboard-fault-tolerant
kind: ConfigMapList
